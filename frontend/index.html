<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>小冰所见即所得视频编辑器</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- fabric.js 用于画布拖拽 -->
  <script src="https://cdn.jsdelivr.net/npm/fabric@5.3.0/dist/fabric.min.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="main-layout">
    <!-- 左侧：场景/分镜管理 -->
    <aside class="sidebar left">
      <h2>场景</h2>
      <ul id="scene-list">
        <li class="scene-item active" data-index="0">1</li>
      </ul>
      <button id="add-scene-btn">添加场景</button>
    </aside>
    <!-- 中间：画布编辑区 -->
    <main class="center">
      <div class="canvas-toolbar">
        <button id="upload-image-btn">上传图片</button>
        <button id="add-text-btn">添加文字</button>
        <button id="upload-video-btn">上传视频</button>
        <button id="upload-audio-btn">上传音频</button>
      </div>
      <div id="canvas-container">
        <canvas id="editor-canvas" width="540" height="960"></canvas>
      </div>
    </main>
    <!-- 右侧：素材库/属性区 -->
    <aside class="sidebar right">
      <h2>素材库</h2>
      <div id="material-list">
        <div>
          <strong>图片</strong>
          <ul id="image-list"></ul>
        </div>
        <div>
          <strong>视频</strong>
          <ul id="video-list"></ul>
        </div>
        <div>
          <strong>音频</strong>
          <ul id="audio-list"></ul>
        </div>
      </div>
      <div id="property-panel">
        <h3>属性</h3>
        <div id="property-content">选中元素后可编辑属性</div>
      </div>
    </aside>
  </div>
  <!-- 底部参数与生成 -->
  <div class="bottom-panel">
    <label>
      API Key:
      <input type="text" id="apiKey" placeholder="请输入小冰API Key">
    </label>
    <label>
      输出视频名称:
      <input type="text" id="outputVideoName" value="我的视频">
    </label>
    <label>
      输出格式:
      <select id="outputVideoFormat">
        <option value="mp4">mp4</option>
        <option value="mkv">mkv</option>
      </select>
    </label>
    <label>
      分辨率:
      <input type="number" id="width" value="540" min="2" step="2" style="width:60px;"> x
      <input type="number" id="height" value="960" min="2" step="2" style="width:60px;">
    </label>
    <button id="generateBtn">生成视频</button>
    <span id="task-status"></span>
  </div>
  <div id="video-result"></div>
  <input type="file" id="hidden-image-input" accept="image/*" style="display:none;">
  <input type="file" id="hidden-video-input" accept="video/*" style="display:none;">
  <input type="file" id="hidden-audio-input" accept="audio/*" style="display:none;">
  <script src="app.js"></script>
</body>
</html>
